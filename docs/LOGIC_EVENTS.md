# События бизнес-логики

Приложение предоставляет оповещение о следующих видах событий при работе с
модулями бизнес-логики:

* загрузка модуля в приложение;
* выгрузка модуля из памяти приложения;
* создание заявки.

Кроме того, приложение поддерживает специальный вид оповещения, привязываемый к
уже существующей записи заявки.

Поддержка оповещений со стороны модулей бизнес-логики не является обязательной.
Если поддержка того или иного оповещения отсутствует в модуле, то приложение
создаёт соответствующее сообщение в стандартном потоке вывода. Созданные при
вызове исключения блокируются, но сообщение о них выводится в стандартный поток
вывода.

## Оповещение о загрузке модуля бизнес-логики в приложение

* Поддержка со стороны модуля бизнес-логики осуществляется предоставлением
  функции `on_load`.

* Функция `on_load` вызывается приложением без аргументов непосредственно после
  загрузки модуля бизнес-логики.

## Оповещение о выгрузке модуля бизнес-логики из памяти приложения

* Поддержка со стороны модуля бизнес-логики осуществляется предоставлением
  функции `on_unload`.

* Функция `on_unload` вызывается приложением без аргументов непосредственно
  перед выгрузкой модуля бизнес-логики из пространства имён `Object`.

## Оповещение о создании заявки

* Поддержка со стороны модуля бизнес-логики осуществляется предоставлением
  функции `on_case_creation`.

* Функция `on_case_creation` вызывается действием класса
  `CaseCore::Actions::Cases::Create` непосредственно после создания записи
  заявки, при этом модуль бизнес-логики ищется по значению поля `type` записи.

* Если модуль бизнес-логики невозможно найти по значению поля `type` записи
  заявки, то создаётся соответствующее предупредительное сообщение в
  стандартном потоке вывода.

## Оповещение, привязанное к записи заявки

* Позволяет вызвать произвольную функцию модуля бизнес-логики с записью заявки
  в качестве аргумента.

* Со стороны приложения поддержка этого специального вида оповещений
  осуществляется действиями класса `CaseCore::Actions::Cases::Call`.

* Действие поддерживает указание дополнительных аргументов.
